<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <Title>Home</Title>
    <link rel="stylesheet" th:href="@{/style.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

</head>
<body>
<!-- Navbar -->
    <div th:replace="fragments/navbar :: navbar"></div>

    <div class="index-page">
        <!-- Filters -->
        <div class="filters-sidebar">
            <button class="dropdown-btn">Fiction  <span class="dropdownSymbol"></span></button>
            <div class="dropdown-container" id="fiction"></div>
            <button class="dropdown-btn">Non-Fiction    <span class="dropdownSymbol"></span></button>
            <div class="dropdown-container" id="non-fiction"></div>
        </div>

        <!-- Catalogue -->
        <main style="margin-left: 20rem">
            <div class="catalogue-grid">
                <div th:if="${#lists.isEmpty(products)}">
                    <p>No products available.</p>
                </div>

                    <div th:each="product : ${products}" class="product-box">
                        <a th:href="@{/product/{id}(id=${product.id})}">
                            <img th:if="${product.image} == null"
                                 th:src="@{/images/unloaded-image.png}"
                                 alt="Product Image"
                                 class="product-image">
                            <img th:if="${product.image} != null"
                                 th:src="@{/uploadedImages/{id}(id=${product.image.id})}"
                                 alt="Product Image"
                                 class="product-image">
                            <h4 th:text="${product.title}"></h4>
                        </a>

                        <p th:text="${product.author}"></p>
                        <p th:text="${product.genre}"></p>
                        <p th:text="${product.price != null ? 'â‚¬' + #numbers.formatDecimal(product.price,1,2) : 'FREE'}"></p>
                    </div>

            </div>
        </main>
    </div>
    <script th:src="@{index.js}"></script>
</body>
</html>
